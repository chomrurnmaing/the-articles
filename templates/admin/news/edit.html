{% extends 'partials/_admin_master.html' %}
{% load static %}

{% block title %}Dashboard{% endblock title %}

{% block content %}
<div class="card">
    <div class="card-header card-header-primary">
        <h4 class="card-title">Create an article</h4>
        <p class="card-category"></p>
    </div>
    <div class="card-body">
        <form method="POST" action="{% url 'news-update' id=post.id %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="title" class="bmd-label-floating">Title</label>
                <input type="text" id="title" class="form-control" name="title" value="{{ post.title }}">
            </div>

            <div class="form-group">
                <label for="content" class="bmd-label-floating">Content</label>
                <textarea name="content" class="form-control" id="content"></textarea>
            </div>

            <button type="submit" class="btn btn-primary pull-right" id="save-post">Save</button>
            <div class="clearfix"></div>
        </form>
    </div>
</div>

{% endblock content %}

{% block footer_extra %}
<script>

    $('#content').Editor( {
        insert_img: false,
        fonteffects: false,
    });

    $( '#content' ).Editor('setText', '{{ post.content|safe }}');

    $( '#save-post' ).on('click', function (e) {
        $( '#content' ).html($('#content').Editor('getText'))
    })
</script>
{% endblock footer_extra %}